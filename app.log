Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1458, in dispatch_request
    self.raise_routing_exception(req)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1440, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1341, in handle_user_exception
    return self.handle_http_exception(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1281, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\home.py", line 527, in page_not_found
    return render_template('404.html'), 404
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: 404.html
Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1458, in dispatch_request
    self.raise_routing_exception(req)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1440, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1341, in handle_user_exception
    return self.handle_http_exception(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1281, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\home.py", line 527, in page_not_found
    return render_template('404.html'), 404
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: 404.html
Exception on /login [POST]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.ProgrammingError: ('42S02', "[42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Invalid object name 'admin'. (208) (SQLExecDirectW); [42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_limiter\extension.py", line 1325, in __inner
    return cast(R, flask.current_app.ensure_sync(obj)(*a, **k))
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\eugen\water_billing\home.py", line 197, in login
    admin = Admin.query.filter_by(username=username).first()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42S02', "[42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Invalid object name 'admin'. (208) (SQLExecDirectW); [42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
[SQL: SELECT TOP 1 admin.id AS admin_id, admin.username AS admin_username, admin.password AS admin_password, admin.created_at AS admin_created_at 
FROM admin 
WHERE admin.username = ?]
[parameters: ('peter',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1458, in dispatch_request
    self.raise_routing_exception(req)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1440, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1341, in handle_user_exception
    return self.handle_http_exception(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1281, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\home.py", line 527, in page_not_found
    return render_template('404.html'), 404
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: 404.html
Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1458, in dispatch_request
    self.raise_routing_exception(req)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1440, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1341, in handle_user_exception
    return self.handle_http_exception(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1281, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\home.py", line 527, in page_not_found
    return render_template('404.html'), 404
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: 404.html
Exception on /login [POST]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.ProgrammingError: ('42S02', "[42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Invalid object name 'admin'. (208) (SQLExecDirectW); [42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_limiter\extension.py", line 1325, in __inner
    return cast(R, flask.current_app.ensure_sync(obj)(*a, **k))
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "C:\Users\eugen\water_billing\home.py", line 197, in login
    admin = Admin.query.filter_by(username=username).first()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2754, in first
    return self.limit(1)._iter().first()  # type: ignore
           ~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (pyodbc.ProgrammingError) ('42S02', "[42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Invalid object name 'admin'. (208) (SQLExecDirectW); [42S02] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Statement(s) could not be prepared. (8180)")
[SQL: SELECT TOP 1 admin.id AS admin_id, admin.username AS admin_username, admin.password AS admin_password, admin.created_at AS admin_created_at 
FROM admin 
WHERE admin.username = ?]
[parameters: ('peter',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1458, in dispatch_request
    self.raise_routing_exception(req)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1440, in raise_routing_exception
    raise request.routing_exception  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\ctx.py", line 353, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1341, in handle_user_exception
    return self.handle_http_exception(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1281, in handle_http_exception
    return self.ensure_sync(handler)(e)
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "C:\Users\eugen\water_billing\home.py", line 527, in page_not_found
    return render_template('404.html'), 404
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 150, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 64, in get_source
    return self._get_source_fast(environment, template)
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\templating.py", line 98, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: 404.html
Exception on /dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.OperationalError: ('08S01', '[08S01] [Microsoft][ODBC Driver 18 for SQL Server]TCP Provider: An existing connection was forcibly closed by the remote host.\r\n (10054) (SQLExecDirectW); [08S01] [Microsoft][ODBC Driver 18 for SQL Server]Communication link failure (10054)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\home.py", line 109, in decorated_function
    return redirect(url_for('login'))
       ^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\home.py", line 239, in dashboard
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_sqlalchemy\query.py", line 98, in paginate
    return QueryPagination(
        query=self,
    ...<4 lines>...
        count=count,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_sqlalchemy\pagination.py", line 72, in __init__
    items = self._query_items()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_sqlalchemy\pagination.py", line 358, in _query_items
    out = query.limit(self.per_page).offset(self._query_offset).all()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (pyodbc.OperationalError) ('08S01', '[08S01] [Microsoft][ODBC Driver 18 for SQL Server]TCP Provider: An existing connection was forcibly closed by the remote host.\r\n (10054) (SQLExecDirectW); [08S01] [Microsoft][ODBC Driver 18 for SQL Server]Communication link failure (10054)')
[SQL: SELECT tenant.id AS tenant_id, tenant.name AS tenant_name, tenant.phone AS tenant_phone, tenant.created_at AS tenant_created_at 
FROM tenant ORDER BY tenant.name
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY]
[parameters: (0, 10)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Exception on /dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
pyodbc.OperationalError: ('08S01', '[08S01] [Microsoft][ODBC Driver 18 for SQL Server]TCP Provider: An existing connection was forcibly closed by the remote host.\r\n (10054) (SQLExecDirectW); [08S01] [Microsoft][ODBC Driver 18 for SQL Server]Communication link failure (10054)')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\home.py", line 109, in decorated_function
    return redirect(url_for('login'))
       ^^^^^^^^^^^^^^^^^^
  File "C:\Users\eugen\water_billing\home.py", line 239, in dashboard
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_sqlalchemy\query.py", line 98, in paginate
    return QueryPagination(
        query=self,
    ...<4 lines>...
        count=count,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_sqlalchemy\pagination.py", line 72, in __init__
    items = self._query_items()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\flask_sqlalchemy\pagination.py", line 358, in _query_items
    out = query.limit(self.per_page).offset(self._query_offset).all()
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2699, in all
    return self._iter().all()  # type: ignore
           ~~~~~~~~~~^^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
        params,
        ^^^^^^^
        execution_options={"_sa_orm_load_options": self.load_options},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<4 lines>...
        conn,
        ^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\orm\context.py", line 305, in orm_execute_statement
    result = conn.execute(
        statement, params or {}, execution_options=execution_options
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\eugen\water_billing\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.OperationalError: (pyodbc.OperationalError) ('08S01', '[08S01] [Microsoft][ODBC Driver 18 for SQL Server]TCP Provider: An existing connection was forcibly closed by the remote host.\r\n (10054) (SQLExecDirectW); [08S01] [Microsoft][ODBC Driver 18 for SQL Server]Communication link failure (10054)')
[SQL: SELECT tenant.id AS tenant_id, tenant.name AS tenant_name, tenant.phone AS tenant_phone, tenant.created_at AS tenant_created_at 
FROM tenant ORDER BY tenant.name
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY]
[parameters: (0, 10)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Database initialization error: (pyodbc.InterfaceError) ('28000', "[28000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Login failed for user 'peter'. (18456) (SQLDriverConnect); [28000] [Microsoft][ODBC Driver 18 for SQL Server]Invalid connection string attribute (0); [28000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Login failed for user 'peter'. (18456); [28000] [Microsoft][ODBC Driver 18 for SQL Server]Invalid connection string attribute (0)")
(Background on this error at: https://sqlalche.me/e/20/rvf5)
Error sending message on attempt 1: Server error
Error sending message on attempt 2: Server error
Error sending message on attempt 1: Invalid phone number
Error sending message on attempt 2: Invalid phone number
Error sending message on attempt 3: Invalid phone number
Error sending message on attempt 1: Connection error
Error sending message on attempt 2: Connection error
Error sending message on attempt 3: Connection error
Error sending message on attempt 1: Server error
Error sending message on attempt 2: Server error
Error sending message on attempt 1: Invalid phone number
Error sending message on attempt 2: Invalid phone number
Error sending message on attempt 3: Invalid phone number
Error sending message on attempt 1: Connection error
Error sending message on attempt 2: Connection error
Error sending message on attempt 3: Connection error
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Database initialization error: 'NoneType' object has no attribute 'command'
Database initialization error: 'NoneType' object has no attribute 'admins'
Error sending message on attempt 1: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 2: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 3: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 1: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 2: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 3: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 1: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 2: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 3: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 1: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 2: Expecting value: line 1 column 1 (char 0)
Error sending message on attempt 3: Expecting value: line 1 column 1 (char 0)
Database initialization error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Error initializing houses collection: name 'mongo' is not defined
Error initializing houses collection: name 'mongo' is not defined
Error during data migration: name 'mongo' is not defined
Database initialization error: name 'mongo' is not defined
Database initialization error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Error initializing houses collection: name 'mongo' is not defined
Error initializing houses collection: name 'mongo' is not defined
Error during data migration: name 'mongo' is not defined
Database initialization error: name 'mongo' is not defined
Database initialization error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Error initializing houses collection: name 'mongo' is not defined
Error initializing houses collection: name 'mongo' is not defined
Error during data migration: name 'mongo' is not defined
Database initialization error: name 'mongo' is not defined
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Error initializing houses collection: name 'mongo' is not defined
Error initializing houses collection: name 'mongo' is not defined
Error during data migration: name 'mongo' is not defined
Database initialization error: name 'mongo' is not defined
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Error initializing houses collection: name 'mongo' is not defined
Error initializing houses collection: name 'mongo' is not defined
Error during data migration: name 'mongo' is not defined
Database initialization error: name 'mongo' is not defined
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Error initializing houses collection: name 'mongo' is not defined
Error initializing houses collection: name 'mongo' is not defined
Error during data migration: name 'mongo' is not defined
Database initialization error: name 'mongo' is not defined
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
Database initialization error: 'NoneType' object has no attribute 'db'
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: No default database defined
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: No default database defined
MongoDB did not initializecheck MONGO_URI!
Row 2: Possible duplicate tenant. Similar names: John Nganga (House: BE2), John Kihara (House: BE1)
No admins found for migration
No admins found for migration
SMS notification failed: name 'send_sms_notification' is not defined
SMS notification failed: name 'send_sms_notification' is not defined
SMS notification failed: name 'send_sms_notification' is not defined
SMS error: name 'reading_id' is not defined
Error recording reading for tenant 6830f50101eb4a7e9b94cd8f: name 'reading_id' is not defined
Error in payments dashboard: No filter named 'currency' found.
Error in payments dashboard: Encountered unknown tag 'endblock'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Error in payments dashboard: Encountered unknown tag 'endblock'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Error in payments dashboard: Encountered unknown tag 'endblock'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Error in payments dashboard: Encountered unknown tag 'endblock'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Error initializing houses collection: operation cancelled
Migration error: SSL handshake failed: ac-2hq3yv1-shard-00-01.bvu9fcw.mongodb.net:27017: _ssl.c:1011: The handshake operation timed out (configured timeouts: connectTimeoutMS: 20000.0ms)
No admins found for migration
Error fetching tenant payments: Object of type ObjectId is not JSON serializable
Error fetching tenant payments: Object of type ObjectId is not JSON serializable
Error fetching tenant payments: Object of type ObjectId is not JSON serializable
Error sending message on attempt 1: You have exceeded your sending limit.
Error sending message on attempt 2: You have exceeded your sending limit.
Error sending message on attempt 3: You have exceeded your sending limit.
SMS error for tenant wanjau: You have exceeded your sending limit.
Error sending message on attempt 1: You have exceeded your sending limit.
Error sending message on attempt 2: You have exceeded your sending limit.
Error sending message on attempt 3: You have exceeded your sending limit.
SMS error for tenant eugene wanjau: You have exceeded your sending limit.
Error sending message on attempt 1: You have exceeded your sending limit.
Error sending message on attempt 2: You have exceeded your sending limit.
Error sending message on attempt 3: You have exceeded your sending limit.
Error sending message on attempt 1: You have exceeded your sending limit.
Error sending message on attempt 2: You have exceeded your sending limit.
Error sending message on attempt 3: You have exceeded your sending limit.
No admins found for migration
Error recording reading for tenant 68359cb1b9d1e4cc8f183ea3: name 'rent_amount' is not defined
Error recording reading for tenant 68359cb1b9d1e4cc8f183ea3: name 'rent_amount' is not defined
Error recording reading for tenant 68359cb1b9d1e4cc8f183ea3: name 'rent_amount' is not defined
Error recording reading for tenant 68359cb1b9d1e4cc8f183ea3: name 'rent_amount' is not defined
Error recording reading for tenant 68359cb1b9d1e4cc8f183ea3: name 'rent_amount' is not defined
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS query name does not exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: None of DNS query names exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net., _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
No admins found for migration
MongoDB configuration error: None of DNS query names exist: _mongodb._tcp.waterbilling.0tl3nmb.mongodb.net., _mongodb._tcp.waterbilling.0tl3nmb.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: None of DNS query names exist: _mongodb._tcp.waterbilling.0tl3nmb.mongodb.net., _mongodb._tcp.waterbilling.0tl3nmb.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: None of DNS query names exist: _mongodb._tcp.cluster0.bvu9fcw.mongodb.net., _mongodb._tcp.cluster0.bvu9fcw.mongodb.net.
MongoDB did not initializecheck MONGO_URI!
No admins found for migration
Error in payments dashboard: 'bill' is undefined
Error in payments dashboard: 'sum' is undefined
Error in payments dashboard: 'format' is undefined
Error in payments dashboard: 'format' is undefined
Error in payments dashboard: str object has no element Undefined
Error in payments dashboard: No filter named 'bills.bill_amount'.
Error recording payment: 'function' object has no attribute 'make_cache_key'
Error loading subscription page: 'starter'
Error getting M-Pesa token: 400 Client Error: Bad Request for url: https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials
Error getting M-Pesa token: 400 Client Error: Bad Request for url: https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials
Error getting M-Pesa token: 400 Client Error: Bad Request for url: https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials
No valid rent amount found for tenant eugene wanjau, house BE6
No valid rent amount found for tenant eugene wanjau, house BE4
Error fetching tenant payments: Object of type ObjectId is not JSON serializable
Error fetching tenant payments: Object of type ObjectId is not JSON serializable
Error fetching tenant payments: Object of type ObjectId is not JSON serializable
Error fetching tenant payments: cannot access local variable 'payment' where it is not associated with a value
Error fetching tenant payments: cannot access local variable 'payment' where it is not associated with a value
MongoDB connection failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 68cecabe561ff020ceac2f45, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
MongoDB did not initializecheck MONGO_URI!
MongoDB connection failed: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 68cf687ce296c35da9d683b1, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
MongoDB did not initializecheck MONGO_URI!
MongoDB configuration error: The DNS operation timed out after 20.00025963783264 seconds
MongoDB did not initializecheck MONGO_URI!
Error getting M-Pesa token: 400 Client Error: Bad Request for url: https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials
Error in payments dashboard: Could not build url for endpoint 'send_payment_reminders'. Did you mean 'manual_payment_reminders' instead?
